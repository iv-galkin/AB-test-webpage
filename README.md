# Анализ A/B-теста конверсии (Analyze AB Test Results)

## Описание

В этом проекте проводится анализ результатов A/B-теста (датасет `ab_data.csv`), где сравниваются две версии веб-страницы — старая (old_page) и новая (new_page) — по показателю конверсии. Цель эксперимента — выяснить, дает ли новая версия страницы статистически значимое улучшение конверсии по сравнению со старой. Задача актуальна для бизнеса: правильно проведенный A/B-тест позволяет принять обоснованное решение о внедрении изменений на сайте.

Задачи проекта:
- Предварительная проверка и очистка данных:
  - Обработка строк с некорректным соответствием группы (treatment/control) и показанной страницы (new_page/old_page).
  - Удаление дубликатов пользователей (по user_id).
- Исследовательский анализ данных:
  - Подсчет общей конверсии.
  - Расчет конверсии в контрольной и экспериментальной группах.
  - Вычисление доли трафика, попавшего в каждую группу.
- Статистическая проверка гипотез:
  - Формулировка нулевой гипотезы H₀: конверсия на новой странице равна конверсии на старой.
  - Проведение Z-теста для двух долей (one-sided) с помощью statsmodels.
  - Построение 95% доверительного интервала для разности долей.
- Визуализация:
  - Выделение столбца с датой (без времени) и подсчет ежедневных конверсий.
  - Построение графика динамики конверсий по дням для старой и новой страницы.
- Анализ мощности теста и вычисление минимально обнаруживаемого эффекта (MDE):
  - Определение общего уровня конверсии (baseline).
  - Расчет «эффекта Коэна» (Cohen’s h) и MDE при α=0.05 и мощности 0.80.
  - Сравнение фактической разницы с MDE.
- Выводы и практические рекомендации:
  - Оценка статистической значимости разницы конверсий.
  - Рекомендации по дальнейшим действиям (например, увеличению объема выборки или тестированию других метрик).

---

## Подробнее

Посмотреть ноутбук можно [здесь](Analyze_ab_test_results.ipynb)

---

## Используемые библиотеки и методы анализа

### Библиотеки:
- pandas, numpy — загрузка, очистка и преобразование данных.
- matplotlib — визуализация распределений и временных рядов.
- statsmodels — проведение Z-теста для долей и расчет доверительных интервалов.
- scipy — вспомогательные статистические функции при необходимости.

### Методы анализа:
- Предварительная очистка данных (Data Cleaning):
  - Фильтрация строк с некорректными группами и страницами.
  - Удаление повторных записей пользователей.
- Расчет пропорций и конверсий:
  - Подсчет числа конверсий и размера выборок в каждой группе.
  - Определение доли пользователей, попавших в экспериментальную группу.
- Статистическая проверка гипотез:
  - Z-тест для двух пропорций (statsmodels.stats.proportions_ztest).
  - Построение 95% - доверительного интервала для разницы долей.
- Анализ мощности теста (Power Analysis):
  - Вычисление эффекта Коэна (Cohen’s h) на основе общего уровня конверсии.
  - Определение MDE при заданных α и β (мощность 0.80).

---

## Основные результаты

- Общая конверсия (после очистки данных): 11.96 %.
- Конверсия в контрольной группе (old_page): 12.04 %  
- Конверсия в экспериментальной группе (new_page): 11.88 %
- Z-тест для пропорций (one-sided):
  - Z-статистика ≈ −1.311  
  - p-value ≈ 0.9051  
  - Вывод: p ≫ 0.05 → недостаточно оснований отвергнуть H₀.  
- Доверительный интервал (95 %) для разности (p_new − p_old):  
  [−0.003938, +0.000781] → интервал включает 0.
- Минимально обнаруживаемый эффект (MDE): ≈ 0.34 %  
  Фактическая разница (−0.16 %) меньше MDE → статистическая мощность недостаточна для выявления таких мелких изменений.

- Визуализация по дням:  
  График показал, что ежедневные конверсии для старой и новой страницы практически совпадают, без явного преимущества.
- Вывод и рекомендации:  
  - Нет статистически значимого преимущества у новой страницы.  
  - Рекомендация: не переходить на новую версию, оставить старую.  
  - При желании можно повторить эксперимент при большем объеме трафика или проверить другие метрики (время на странице, глубину просмотра и т. д.).

---

## Установка

Для работы с проектом потребуется Python 3.x и следующие библиотеки:

`bash
pip install pandas numpy matplotlib seaborn statsmodels scipy
